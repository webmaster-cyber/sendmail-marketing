---
import Layout from '../layouts/Layout.astro'
import fs from 'node:fs'
import path from 'node:path'

// Load about content from CMS if available
let aboutContent = {
  title: 'About SendMail',
  subtitle: 'We help businesses connect with their audience through effective email marketing.',
  story: 'SendMail was founded with a simple mission: make email marketing accessible and effective for businesses of all sizes, especially those in Zimbabwe and across Africa.',
  mission: 'Our mission is to provide powerful, easy-to-use email marketing tools that help businesses grow their audience, engage their customers, and drive results.',
  values: [
    { title: 'Simplicity', description: 'We believe powerful tools should be easy to use.' },
    { title: 'Reliability', description: 'Your emails should always get delivered.' },
    { title: 'Support', description: 'We are here to help you succeed.' },
  ],
}

try {
  const filePath = path.join(process.cwd(), 'src/content/about.json')
  if (fs.existsSync(filePath)) {
    aboutContent = { ...aboutContent, ...JSON.parse(fs.readFileSync(filePath, 'utf-8')) }
  }
} catch (e) {
  // Use defaults
}
---

<Layout title="About Us">
  <section class="py-20 bg-gradient-to-b from-gray-50 to-white">
    <div class="container">
      <div class="max-w-3xl mx-auto text-center">
        <h1 class="text-4xl md:text-5xl font-bold text-dark mb-4">{aboutContent.title}</h1>
        <p class="text-xl text-gray-600">
          {aboutContent.subtitle}
        </p>
      </div>
    </div>
  </section>

  <section class="py-16">
    <div class="container">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-2xl font-bold text-dark mb-4">Our Story</h2>
        <p class="text-gray-600 mb-8">
          {aboutContent.story}
        </p>

        <h2 class="text-2xl font-bold text-dark mb-4">Our Mission</h2>
        <p class="text-gray-600 mb-8">
          {aboutContent.mission}
        </p>

        <h2 class="text-2xl font-bold text-dark mb-6">Our Values</h2>
        <div class="grid md:grid-cols-3 gap-6">
          {aboutContent.values.map((value) => (
            <div class="bg-white rounded-xl border border-gray-100 p-6">
              <h3 class="text-lg font-semibold text-dark mb-2">{value.title}</h3>
              <p class="text-gray-600 text-sm">{value.description}</p>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>
</Layout>
